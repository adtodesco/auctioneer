{% extends 'base.html' %}

{% block header %}
<h1>{% block title %}New Nomination{% endblock %}</h1>
{% endblock %}

{% block content %}
<form method="post">
    <label for="name">Name</label>
    <input name="name" id="name" value="{{ request.form['name'] }}" required>
    <label for="position">Position</label>
    <select name="position" id="position" required>
        <option disabled selected value="">-- Select a position --</option>
        {% for pos in positions %}
        <option value="{{ pos }}">{{ pos }}</option>
        {% endfor %}
    </select>
    <label for="team">Team</label>
    <select name="team" id="team" required>
        <option disabled selected value="">-- Select a team --</option>
        {% for team in teams %}
        <option value="{{ team }}">{{ team }}</option>
        {% endfor %}
    </select>
    <label for="slot_id">Auction ends (UTC)</label>
    <select name="slot_id" id="slot_id" required>
        <option disabled selected value="">-- Select an end time --</option>
        {% for num, slots in blocks.items() %}
        <optgroup label="Block {{ num }}">
            {% for slot in slots %}
            <option value="{{ slot.id }}">{{ slot.ends_at }}</option>
            {% endfor %}
        </optgroup>
        {% endfor %}
    </select>
    <label for="matcher_id">Matcher</label>
    <select name="matcher_id" id="matcher_id">
        <option selected value="">No matcher</option>
        {% for user in users %}
        <option value="{{ user.id }}">{{ user.username }}</option>
        {% endfor %}
    </select>
    <label for="bid_value">Enter bid below. Your bid will become the players total salary if you win this player's auction.</label>
    <input name="bid_value" id="bid_value" value="{{ request.form['bid_value'] }}"
           required>
    <input type="submit" value="Save">
</form>
{% endblock %}