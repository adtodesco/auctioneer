{% extends 'base.html' %}

{% block header %}
<h1>{% block title %}Configuration Settings{% endblock %}</h1>
{% endblock %}

{% block content %}
<hr>
<table style="border: 1px solid #ddd; width: 100%; border-collapse: collapse;">
    <thead>
        <tr>
            <th style="border: 1px solid #ddd; padding: 0.5em;">Setting</th>
            <th style="border: 1px solid #ddd; padding: 0.5em;">Type</th>
            <th style="border: 1px solid #ddd; padding: 0.5em;">Description</th>
            <th style="border: 1px solid #ddd; padding: 0.5em;">Value</th>
            <th style="border: 1px solid #ddd; padding: 0.5em;"></th>
        </tr>
    </thead>
    <tbody>
        {% for config in configs %}
        <tr>
            <td style="border: 1px solid #ddd; padding: 0.5em;">{{ config.key }}</td>
            <td style="border: 1px solid #ddd; padding: 0.5em;">{{ config.value_type }}</td>
            <td style="border: 1px solid #ddd; padding: 0.5em;">{{ config.description or '-' }}</td>
            <td style="border: 1px solid #ddd; padding: 0.5em; word-wrap: break-word; max-width: 400px;">
                {% if config.value_type == 'json' %}
                <pre style="margin: 0; white-space: pre-wrap; word-wrap: break-word;">{{ config.value }}</pre>
                {% else %}
                {{ config.value }}
                {% endif %}
            </td>
            <td style="border: 1px solid #ddd; padding: 0.5em;"><a class="action" href="{{ url_for('admin.config.edit', key=config.key) }}">Edit</a></td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}
